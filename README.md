# README

*バージョン
ruby 2.5.1p57 (2018-03-29 revision 63029) [x86_64-darwin19]

*デプロイ
AWS, Nginx, Unicorn, capistranoでの自動化

*アプリの説明
仲人型恋愛マッチングサービスです。仲人（キューピット）を介してユーザーをマッチングをさせることにより、ユーザー同士の恋愛を長く持続させることが目的です。キューピットがユーザー同士をマッチングさせ、仲を取り持ちます。ユーザー2人とキューピット1人、合計3人でマッチングするという仕様です。

*機能の説明
54.238.194.38にアクセスします。
右上のキューピット、メールアドレスでログインのどちらかをクリックします。
ログイン画面ではどちらも
メールアドレス:asdf@asdf
パスワード:asdfasdf
です。もしいろんな機能を試したい方はログイン画面を少し下へスクロールするとサインアップできるところがあるのでアカウントを作って遊んでみてください。（個人情報は入れないで下さい）

+ログイン後のサイドバーの説明

ユーザーの場合（左上から順番に）
1. アイコンをクリックするとプロフィールや写真を入力することができます。
2. キューピットを探すをクリックするとキューピットが2人単位で表示されます。また、条件検索を使用すると性別、年齢から絞ることができます。また、アイコンをクリックすることにより、詳細を見ることができます。
3. マッチング一覧にカーソルを合わせるとマッチングリストとマッチング申請リストが出てきます。マッチングリストはマッチングしたキューピットのリストが出て、クリックするとそのキューピットとのメッセージのやりとりとマッチング相手のユーザーのアイコンが下の段に表示されます。マッチング申請リストは拒否するか承認するか選択でき、ユーザー同士がお互い承認するとマッチング成立となります。どちらか一方が拒否するとそのマッチングはお流れとなります。
4. フォローリストはカーソルを合わせるとフォローリスト、フォロワーリストが現れます。自分がフォローしているキューピットとフォローされているキューピットをそれぞれ見ることができます。

キューピットの場合
1. アイコンをクリックするとプロフィールや写真を入力することができます。
2. ユーザーを探すをクリックするとユーザーが2人単位で表示されます。また、条件検索を使用すると性別、年齢から絞ることができます。また、アイコンをクリックすることにより、詳細を見ることができます。
3. マッチング一覧にカーソルを合わせると、マッチング一覧、マッチング申請リスト、マッチング申請が出てきます。マッチング一覧には自分が含まれるマッチングのユーザーが上部に一覧で表示されます。ユーザーの1人をクリックすると、そのマッチングのもう一方のユーザーのアイコンが下段に表示され、また、クリックしたユーザーとのメッセージのやり取りを見ることができます。また、メッセージを送ることもでき、7秒毎に非同期通信を行い、メッセージを最新のものに保ちます。マッチング申請リストはマッチング申請の状況を見ることができます。マッチング申請はユーザー同士をマッチングさせることができます。相互フォロー状態のユーザーとしかマッチング申請することができません。
4. ユーザーとのフォロー、フォロワー関係を確認することができます。

ログアウトしたい場合はトップページにURLで飛んでいただけると右上がu(キューピットの場合はc)ログアウトになっているはずなのでそこをクリックすればログアウトできます。

*データベース
ex) table: {culumn, culumn, ..}
c_user: {id, nickname, username, profile, sex, age, speciality, email, encrypted_password, reset_password_token, reset_password_sent_at, remember_created_at, created_at, updated_at}
follow: {id, user_id, c_user_id, bool, created_at, updated_at}
image: {id, src, user_id, bool, created_at, updated_at, image}
match_user: {id, user_id, match_id, content, step, created_at, updated_at}
match: {id, c_user_id, step, memo, created_at, updated_at}
message: {id, content, image, user_id, match_c_user_id, bool, created_at, updated_at}
skyway: {id, code, user_c_user_id, bool, created_at, updated_at}
user: {id, nickname, username, profile, sex, age, comment, uid, provider, name, image, email, encrypted_password, reset_password_token, reset_password_sent_at, remember_created_at, created_at, updated_at}

*ローカル環境で動いて本番環境で動かないもの
・skywayのp2p通信
・facebook認証
理由：上記２つはSSL化しないと本番環境では使えないため(AWSの課金が必要になってくるため、SSL化していません)